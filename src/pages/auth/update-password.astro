---
// ============================================================================
// Update Password Page
// ============================================================================
// Set new password after password reset

import Layout from '@/layouts/Layout.astro';
import { UpdatePasswordForm } from '@/components/auth/UpdatePasswordForm';

// Note: Token validation will be implemented when Supabase integration is complete
// For now, we'll assume the token is valid for UI demonstration
// In production, this should verify the token from URL params via Supabase

// TODO: Implement token validation when backend is ready
// const { locals } = Astro;
// const { data: { session }, error } = await locals.supabase.auth.getSession();
// const isValidToken = !!session && !error;

// Mock for now - assume token is valid
const isValidToken = true;
---

<Layout title="Ustaw nowe hasło — AI Tutor">
  <main class="min-h-screen flex items-center justify-center bg-background p-4">
    <UpdatePasswordForm client:load isValidToken={isValidToken} />
  </main>
</Layout>
